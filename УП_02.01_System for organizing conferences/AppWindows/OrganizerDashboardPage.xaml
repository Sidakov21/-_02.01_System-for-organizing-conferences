<Page x:Class="УП_02._01_System_for_organizing_conferences.AppWindows.OrganizerDashboardPage"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:УП_02._01_System_for_organizing_conferences.AppWindows"
        Title="Dashboard" 
        FontFamily="Comic Sans MS">
    
    <Grid Background="#ABCFCE">
        <ScrollViewer>
            <StackPanel Margin="20">
                <!-- Статистика -->
                <Border Background="White" CornerRadius="10" Padding="20" Margin="0,0,0,20">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="Статистика" FontSize="18" FontWeight="Bold" 
                                   Foreground="#546F94" Margin="0,0,0,20"/>

                        <WrapPanel Grid.Row="1" Orientation="Horizontal" 
                                   HorizontalAlignment="Center">
                            <!-- Карточка мероприятий -->
                            <Border Background="#546F94" CornerRadius="10" 
                                    Width="200" Height="120" Margin="10">
                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <TextBlock Text="Мероприятий" Foreground="White" 
                                               FontSize="12" HorizontalAlignment="Center"/>
                                    <TextBlock x:Name="txtTotalEvents" Text="0" 
                                               Foreground="White" FontSize="36" FontWeight="Bold"
                                               HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>

                            <!-- Карточка участников -->
                            <Border Background="#546F94" CornerRadius="10" 
                                    Width="200" Height="120" Margin="10">
                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <TextBlock Text="Участников" Foreground="White" 
                                               FontSize="12" HorizontalAlignment="Center"/>
                                    <TextBlock x:Name="txtTotalParticipants" Text="0" 
                                               Foreground="White" FontSize="36" FontWeight="Bold"
                                               HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>

                            <!-- Карточка активностей -->
                            <Border Background="#546F94" CornerRadius="10" 
                                    Width="200" Height="120" Margin="10">
                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <TextBlock Text="Активностей" Foreground="White" 
                                               FontSize="12" HorizontalAlignment="Center"/>
                                    <TextBlock x:Name="txtTotalActivities" Text="0" 
                                               Foreground="White" FontSize="36" FontWeight="Bold"
                                               HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>

                            <!-- Карточка предстоящих -->
                            <Border Background="#546F94" CornerRadius="10" 
                                    Width="200" Height="120" Margin="10">
                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <TextBlock Text="Ближайших" Foreground="White" 
                                               FontSize="12" HorizontalAlignment="Center"/>
                                    <TextBlock x:Name="txtUpcomingEvents" Text="0" 
                                               Foreground="White" FontSize="36" FontWeight="Bold"
                                               HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                        </WrapPanel>
                    </Grid>
                </Border>

                <!-- Ближайшие мероприятия -->
                <Border Background="White" CornerRadius="10" Padding="20">
                    <StackPanel>
                        <TextBlock Text="Ближайшие мероприятия" FontSize="18" FontWeight="Bold" 
                                   Foreground="#546F94" Margin="0,0,0,20"/>

                        <ListView x:Name="lvUpcomingEvents" Height="200">
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn Header="Название" 
                                                    DisplayMemberBinding="{Binding событие}" 
                                                    Width="250"/>
                                    <GridViewColumn Header="Дата" 
                                                    DisplayMemberBinding="{Binding дата, StringFormat='dd.MM.yyyy'}" 
                                                    Width="100"/>
                                    <GridViewColumn Header="Город" 
                                                    DisplayMemberBinding="{Binding Города.город}" 
                                                    Width="150"/>
                                    <GridViewColumn Header="Дни" 
                                                    DisplayMemberBinding="{Binding дни}" 
                                                    Width="80"/>
                                    <GridViewColumn Header="" Width="100">
                                        <GridViewColumn.CellTemplate>
                                            <DataTemplate>
                                                <Button Content="Управлять" 
                                                        Background="#546F94" 
                                                        Foreground="White"
                                                        Padding="10,5"
                                                        Tag="{Binding ID_событие}"
                                                        Click="BtnManageEvent_Click"/>
                                            </DataTemplate>
                                        </GridViewColumn.CellTemplate>
                                    </GridViewColumn>
                                </GridView>
                            </ListView.View>
                        </ListView>

                        <Button x:Name="btnViewAllEvents" Content="Все мероприятия" 
                                Background="#546F94" Foreground="White"
                                HorizontalAlignment="Right" Margin="0,20,0,0"
                                Padding="15,8" Click="BtnViewAllEvents_Click"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
